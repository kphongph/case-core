<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/polymer-filters/polymer-filters.html">
<link rel="import" href="../bower_components/core-animated-pages/core-animated-pages.html">
<link rel="import" href="ltc-people.html">
<link rel="import" href="ltc-forms.html">
<link rel="import" href="ltc-person.html">

<polymer-element name="ltc-app" vertical layout>

<template>

  <link rel="stylesheet" href="ltc-app.css">

  <core-animated-pages selected="{{selected}}" 
    transitions="cross-fade-all"
    flex auto>
    <div name="splash">
      <span fit class="splash {{ {wide: wide} | tokenList }}"></span>
    </div>
    <ltc-people name="people" selectedPerson="{{person_id}}">
    </ltc-people>
    <ltc-person name="person" docid="{{person_id}}" 
        person="{{person}}">
    </ltc-person>
    <ltc-forms name="form" person="{{person}}"></ltc-forms>
  </core-animated-pages>

</template>

<script>
Polymer('ltc-app', {
  // testing
  selected:'person',
  person_id:'54fda8bf7b080506038dfab9',
  eventDelegates: {
    'main':'showSearchPerson',
    'form':'showForm',
    'person':'showPerson'
  },
  showPerson: function() {
    this.selected = 'person';
  },
  showForm: function() {
    this.selected = 'form';
  },
  showSearchPerson: function() {
    this.selected = 'people';
  },
  personChanged: function(oldVal,newVal) {
    this.selected = 'person';
  },
  reset : function() {
    console.log('reset');
  }

});
</script>
</polymer-element>
