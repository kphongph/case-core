<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
    <script src="bower_components/webcomponentsjs/webcomponents.min.js"></script>
    <link rel="import" href="bower_components/font-roboto/roboto.html">
    <link rel="import" href="bower_components/core-scaffold/core-scaffold.html">
    <link rel="import" href="bower_components/core-animated-pages/core-animated-pages.html">
    <link rel="import" href="bower_components/core-toolbar/core-toolbar.html">
    <link rel="import" href="bower_components/core-icons/core-icons.html">
    <link rel="import" href="bower_components/paper-icon-button/paper-icon-button.html">
    <link rel="import" href="bower_components/flatiron-director/flatiron-director.html">
    <link rel="import" href="elements/person-app.html">
    <link rel="stylesheet" href="css/app.css">
  </head>

  <body unresolved>
   <template id="t" is="auto-binding">
    <flatiron-director id='page-director' route="{{route}}" 
        autoHash on-director-route="{{routeChanged}}"></flatiron-director>
    <core-scaffold id="scaffold">
     <nav>  
      <core-menu selected="0">
       <!--
       <paper-item noink>
        <a href="#one">Single</a>
       </paper-item>
       -->
      </core-menu>
     </nav>
     
     <core-toolbar tool flex>
      <div>Case Manager</div>
     </core-toolbar>
      
     <div layout horizontal center-center fit>
      <core-animated-pages id="pages" selected="{{route}}" 
         valueattr="page"
         transitions="slide-from-right">
       <section page="person/list">
        <person-app on-person-select="{{personSelected}}"></person-app>
       </section>
       <section page="person/detail">
       
         Form person  {{route}} <a href="#person/list">Back</a>
       </section>
      </core-animated-pages>
     </div>
    </core-scaffold>
   </template>

   <script>
     var template = document.querySelector('#t');

     template.addEventListener('template-bound', function() {
       this.route = this.route || "person/list"; // default route to "1".
     });

     template.personSelected = function(event, doc) {
       console.log(doc);
       this.route = "person/detail";
     };
   </script>
  </body>
</html>
